(function(H,I,Ya,v,N,ba,oa,wa,Za,$a){function V(c,b){var d=ab(c);return d&&d.has(b)}function O(c){function b(a,c,b){a.prototype=c;m(b,c)}function d(a){a=f(a);a("gl",c);a("glUtil",P);a(W,c);a(da,P)}function e(a,c,b){(function w(a){if(null===a||a===y)return b(a);var d;if(a instanceof oa)d=bb;else if(X(a)===xa)d=cb;else return c(a);d(a,function(a){w(a)})})(a)}function p(a,c){var b=c.I;if(b!==y&&null!==b)if("function"===typeof b)pa(b,P,a);else throw console.warn("Value of 'descriptor.oncreated' is invalid: ",
b),new TypeError("Property 'oncreated' of parameter 'descriptor' must be either undefined, null, or a function.");}function l(a,c){var b=c.onerror;if(b===y||null===b)throw a;if("function"===typeof b)pa(b,P,a);else throw console.warn("Property 'onerror' of parameter 'descriptor' should be a function or undefined or null."),a;}function u(a){function b(a,d,q,e,ca,w){var k=db(c,a),h=eb(c,a,d,q,e,ca,w),g=f(this);g("attribLocation",a);g("size",d);g("type",q);g("normalized",e);g("stride",ca);g("offset",
w);g("active",k);g("set",h);g(n,a)}function d(b,q,e){switch(q){case "float":q={1:fb,2:gb,3:hb,4:ib,__proto__:null};break;case "int":q={1:jb,2:kb,3:lb,4:mb,__proto__:null};break;case "fvec":q={1:nb,2:ob,3:pb,4:qb,__proto__:null};break;case "ivec":q={1:rb,2:sb,3:tb,4:ub,__proto__:null};break;case "fmat":q={2:vb,3:wb,4:xb,__proto__:null};break;default:throw new RangeError("Parameter 'type' must be either 'float', 'int', 'fvec', 'ivec' or 'fmat'.");}q=q[e];if("function"!==typeof q)throw new RangeError("Parameter 'length' is invalid: length = "+
e);e=f(this);e("get",yb(c,a,b));e("set",q(c,b));e("uniformLocation",b);e(n,b)}var e=ya(c,a),w=new t(this,a),m=b.prototype=function(a){var b=f(a);b("attribLocation",null);b("size",null);b("type",null);b("normalized",null);b("stride",null);b("offset",null);b("active",null);b("set",null);b(n,null);return a}(h(w)),p=d.prototype=function(a){var b=f(a);b("get",null);b("set",null);b("uniformLocation",null);b(n,null);z(a,"value",{get:function(){return this.get()},set:function(a){this.set(a)},__proto__:null});
a.valueOf=function(a){return this[a===y?"get":"set"](a)};return a}(h(w)),l=za(c,a),Q=zb(c,a),r=Ab(c,a),k=Aa(c,a),J=Ba(c,a),v=Bb(c,a),g=f(this);g("program",a);g("attachShader",e);g("attachShaderUtil",function(a){e(a[n])});g("detachShader",l);g("detachShaderUtil",function(a){l(a[n])});g("getAttribLocation",Q);g("createAttribUtil",function(a,c,d,e,ca,g){return new b(Q(a),c,d,e,ca,g)});g("getUniformLocation",r);g("createUniformUtil",function(a,b,c){return new d(r(a),b,c)});g("getParameter",k);g("getInfoLog",
J);g("destroy",v);g("_variable_util_",w);g("_attrib_util_",m);g("_uniform_util_",p);g(n,a);g(E,k);g(R,J);g(S,v)}function t(a,b){var c=f(this);c("program",b);c("programUtil",a);c(W,b);c(da,a)}function r(a){function b(c){u();if(!l(Ca)){var d=new F(a,Q(),g());ea(d,"shaderUtil",J);if(c===y||null===c)throw d;if("function"===typeof c)return pa(c,P,d);console.warn("Parameter 'onerror' should be a function or undefined or null.");throw d;}}function d(a){switch(typeof a){case "string":return t(a);case "object":if(!a)break;
var c=a.source;if("string"!==typeof c)throw new TypeError("Property 'source' of parameter 'descriptor' must be a string.");t(c);a.compile&&b(a.onerror);return}throw new TypeError("Parameter 'descriptor' must be either a string or an object.");}function e(b){fa(b,a)}function w(b){fa(b[n],a)}function h(b){Z(b,a)}function m(b){Z(b[n],a)}if(a){var l=Da(c,a),Q=Ea(c,a),p=Cb(c,a),k=l(Fa);switch(k){case Ga:k=v;break;case Ha:k=C;break;default:throw new TypeError("Invalid shader. SHADER_TYPE: "+String(k));
}var J=new k,k=f(J),u=Ia(c,a),g=Db(c,a),t=Ja(c,a),x=g;k("shader",a);z(J,"source",{get:x,set:d,__proto__:null});k("compile",b);k("getSource",x);k("setSource",d);k("attachProgram",e);k("attachProgramUtil",w);k("detachProgram",h);k("detachProgramUtil",m);k("getParameter",l);k("getInfoLog",Q);k("destroy",p);k(n,a);k(E,l);k(R,Q);k(S,p);return J}}function v(){}function C(){}function D(a,b){var d=f(this),e=Ka(c,b,a),w=La(c,b),h=Eb(c,b),m=qa(c,b),l=Fb(c,a);d("buffer",a);d("target",b);z(this,"size",{get:qa(c,
b,Gb),__proto__:null});z(this,"usage",{get:qa(c,b,Hb),__proto__:null});z(this,"valid",{get:Ib(c,a),__proto__:null});d("bind",e);d("passData",w);d("passSubData",h);d("getParameter",m);d("destroy",l);d(n,x({0:a,1:b,buffer:a,target:b,__proto__:{toString:function(){return a},valueOf:function(){return b},__proto__:null}}));d(S,l)}function A(a){ea(this,"name",a)}function B(a){ea(this,"errorType",a)}function G(a,b){var c=f(this);c("details",new I(a,b));c("message",b);c("stack",Error().stack)}function I(a,
b){var c=f(this);c("program",a);c("infoLog",b)}function F(a,b,c){var d=f(this);d("details",new K(a,b,c));d("message",b);d("stack",Error().stack)}function K(a,b,c){var d=f(this);d("shader",a);d("infoLog",b);d("source",c)}function L(a){if(a===y||null===a)return V();if("object"!==typeof a)throw new TypeError("Parameter 'descriptor' must be either an object or null or undefined.");}function M(a){function b(d,e,q,h){var f=a[d];if(f!==y&&null!==f){switch(typeof f){case "string":d=ga({type:e,source:f,compile:!0,
__proto__:null});break;case "object":switch(X(f)){case Ma:d=f;if(ra(f,Fa)!==e)throw console.warn(d," has invalid shader type: ",e),new TypeError("Invalid shader type: "+e);break;case q:console.warn(f," is invalid.");d=f[n];break;case h:throw new TypeError("Invalid shader type.");default:d=ga({type:e,compile:!0,__proto__:f})}break;default:throw new TypeError("Property '"+d+"' of parameter must be either null, undefined, a string, a WebGLShader, a ShaderUtil, or a descriptor<WebGLShader>");}fa(c,d)}}
if(a instanceof oa||a instanceof ba)return H({N:a,use:a.use,link:a.link,onerror:a.onerror,__proto__:null});var c=V();b("vertexShader",Ha,Na,Oa);b("fragmentShader",Ga,Oa,Na);var d=a.use;if(a.link||d)ia(c),Pa(c,Jb)?d&&ja(c):l(new G(c,Qa(c)),a);p(c,a);return c}function H(a){return L(a)||M(a)}function N(a){return new u(L(a)||(X(a)===Ra?a:M(a)))}function T(a){if("object"!==typeof a||!a)throw new TypeError("Parameter 'descriptor' must be an object");}function ga(a){var b=ha(a.type);if(!b)throw new TypeError("Creating shader failed because given 'descriptor.type' has wrong value.");
var c=a.source,d=a.compile;c&&(ka(b,c),d&&(la(b),ra(b,Ca)||l(new F(b,Sa(b),c),a)));e(a.M,function(a){fa(X(a)===Ra?a:H(a),b)},sa);p(b,a);return b}function U(a,b){if("object"!==typeof b||!b)throw new TypeError("Parameter 'descriptor' must be an object.");var c=b.bind,d=b.target,e=b.data;e===y&&(e=b.size);c&&ma(d,a);e&&na(e,b.usage);return d}if(!Ta(this))return new O(c);if(!(c instanceof wa))throw new TypeError("Parameter 'gl' must be a WebGLRenderingContext.");var P=this,m=f(P),V=Kb(c),ha=Lb(c),Y=Mb(c),
ia=Nb(c),ja=Ob(c),ka=Ja(c),la=Ia(c),fa=ya(c),Z=za(c),ma=Ka(c),na=La(c),aa=Pb(c),Pa=Aa(c),Qa=Ba(c),ra=Da(c),Sa=Ea(c);(function(a){b(u,a,"_program_util_");d(a)})(h(ta));(function(a){b(t,a,"_variable_util_");d(a)})(h(Ua));(function(a){b(r,a,"_shader_util_");d(a)})(h(Va));var Na=function(a){b(v,a,"_fragment_shader_util_");return a}(new r(null)),Oa=function(a){b(C,a,"_vertex_shader_util_");return a}(new r(null));(function(a){b(D,a,"_buffer_util_");d(a)})(h(Wa));(function(a){b(A,a,"_gl_error_");d(a)})(h(ua));
(function(a){b(B,a,"_gl_error_details_");d(a)})(h(va));(function(a){b(G,a,"_program_linking_error_")})(new A("ProgramLinkingError"));(function(a){b(I,a,"_program_linking_error_details_");d(a);a=f(a);a("program",null);a("infoLog",null)})(new B("ProgramLinkingError"));(function(a){b(F,a,"_shader_compiling_error_")})(new A("ShaderCompilingError"));(function(a){b(K,a,"_shader_compiling_error_details_");d(a);a=f(a);a("shader",null);a("infoLog",null);a("source",null)})(new B("ShaderCompilingError"));m("gl",
c);m("createProgram",H);m("createProgramUtil",N);m("createShader",function(a){T(a);return ga(a)});m("createShaderUtil",function(a){T(a);return new r(X(a)===Ma?a:ga(a))});m("createBuffer",function(a){var b=Y();U(b,a);return b});m("createBufferUtil",function(a){var b=Y();a=U(b,a);if(a!=Qb&&a!=Rb)throw new TypeError("Property 'target' of parameter 'descriptor' must be either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER");return new D(b,a)});m("getParameter",aa);m("getProgramParameter",Pa);m("getProgramInfoLog",
Qa);m("getShaderParameter",ra);m("getShaderInfoLog",Sa);m(n,c);m(Xa,N);m(E,aa)}function p(){return ha||this}function A(c){if(!Ta(c))throw new TypeError("arguments[0] must be extensible.");if(Y.has(c))return this;Y.add(c);Sb(c,F);Tb(F);Ub(F);ea(c,"_kGraph_primitivePrototype",u);return this}function l(){return ia||this}function t(){if(K)return K;var c=f(this);c("FunctionCollection",p);c(Vb,p);A(this);c("ReleaseClasses",A);c(Wb,A);c("ClassCollection",l);c(Xb,l);return K=this}var y,ja=H.document.currentScript,
ka=H[ja.getAttributeNS(null,"kjslib-keyword")||"_kJs_Initor"];if(!ka)throw Error("-k-js-abstract.js is required.");var Yb=ja.getAttributeNS(null,"kgraphlib-keyword")||"_kGraph_Initor",B=new ka,C=B.l(),D=B.f(),h=I.create,z=I.defineProperty,X=I.getPrototypeOf,Zb=B.c(),u=h(Zb.h),la=h(u);B.g(u);B.g(la);var sa=Ya.prototype,T=sa.call,L=sa.bind,Z=L.bind(T),e=L.bind(L),pa=T.bind(T),G=D.O,Ta=D.H,x=I.freeze,f=L.bind(la.w),ea=D.u,Sb=D.m,Tb=D.s,Ub=D.o,ma=N.prototype,xa=ba.prototype,$b=oa.prototype,d=wa.prototype,
Ra=Za.prototype,Ma=$a.prototype,ac=ma.get,bc=ma.set,cb=Z(xa.forEach),bb=Z($b.forEach),Kb=e(d.createProgram),Lb=e(d.createShader),Mb=e(d.createBuffer),Nb=e(d.linkProgram),Ob=e(d.useProgram),Db=e(d.getShaderSource),Ja=e(d.shaderSource),Ia=e(d.compileShader),ya=e(d.attachShader),za=e(d.detachShader),zb=e(d.getAttribLocation),Ab=e(d.getUniformLocation),yb=e(d.getUniform),Pb=e(d.getParameter),Aa=e(d.getProgramParameter),Ba=e(d.getProgramInfoLog),Da=e(d.getShaderParameter),Ea=e(d.getShaderInfoLog),Bb=e(d.deleteProgram),
Cb=e(d.deleteShader),Fb=e(d.deleteBuffer),db=e(d.enableVertexAttribArray),eb=e(d.vertexAttribPointer),fb=e(d.uniform1f),gb=e(d.uniform2f),hb=e(d.uniform3f),ib=e(d.uniform4f),jb=e(d.uniform1i),kb=e(d.uniform2i),lb=e(d.uniform3i),mb=e(d.uniform4i),nb=e(d.uniform1fv),ob=e(d.uniform2fv),pb=e(d.uniform3fv),qb=e(d.uniform4fv),rb=e(d.uniform1iv),sb=e(d.uniform2iv),tb=e(d.uniform3iv),ub=e(d.uniform4iv),vb=e(d.uniformMatrix2fv),wb=e(d.uniformMatrix3fv),xb=e(d.uniformMatrix4fv),Ka=e(d.bindBuffer),La=e(d.bufferData),
Eb=e(d.bufferSubData),qa=e(d.getBufferParameter),Ib=e(d.isBuffer);h(null);var F=h(null),M=h(u),Jb=d.LINK_STATUS,Ca=d.COMPILE_STATUS,Fa=d.SHADER_TYPE,Ga=d.FRAGMENT_SHADER,Ha=d.VERTEX_SHADER,Gb=d.BUFFER_SIZE,Hb=d.BUFFER_USAGE,Qb=d.ARRAY_BUFFER,Rb=d.ELEMENT_ARRAY_BUFFER,Xa=C.create,Vb=C.f,Wb=C.j,Xb=C.c,U=C.D,cc=C.L,n=v("Based object"),W=v("Context's based object"),da=v("Context"),E=v("Get parameter"),R=v("Get info log"),S=v("WebGLObject destructor");x({C:n,J:W,K:da,getParameter:E,G:R,F:S,__proto__:null});
var dc=x({B:function(c,b,d){if(!V(c,b))throw new TypeError(d);},A:V,__proto__:null}),na=new N;new N;var ec=bc.bind(na),ab=ac.bind(na),r=function(c){var b=f(c);b("gl",null);b("glUtil",null);b(W,null);b(da,null);return c}(h(u)),aa={get:function(){return this[R]()},__proto__:null},ta=function(c){var b=f(c);b("program",null);z(c,"infoLog",aa);b("createShader",null);b("createShaderUtil",null);b("getAttribLocation",null);b("createAttribUtil",null);b("getUniformLocation",null);b("createUniformUtil",null);
b("getParameter",null);b("getInfoLog",null);b("destroy",null);b(n,null);b(E,null);b(R,null);b(S,null);return c}(h(r)),Va=function(c){var b=f(c);b("shader",null);b("source",null);z(c,"infoLog",aa);z(c,"attachedShaders",{get:function(){return this[W].getAttachedShaders(this[n])},__proto__:null});b("getSource",null);b("setSource",null);b("compile",null);b("attachProgram",null);b("attachProgramUtil",null);b("detachProgram",null);b("detachProgramUtil",null);b("getParameter",null);b("getInfoLog",null);
b("destroy",null);c.valueOf=function(b){return this[b===y?"getSource":"setSource"](b)};b(n,null);b(E,null);b(R,null);b(S,null);return c}(h(r)),Wa=function(c){var b=f(c);b("buffer",null);b("target",null);b("size",null);b("usage",null);b("valid",!1);b("passData",null);b("passSubData",null);b("getParameter",null);b(E,null);return c}(h(r)),Ua=function(c){var b=f(c);b("program",null);b("programUtil",null);return c}(h(r)),ua=function(c){function b(){return this.name+":\n"+this.message}var d=f(c);d("name",
null);d("message",null);d("details",null);d("stack",null);d("toString",b);z(c,"string",{get:b,__proto__:null});return c}(h(r)),va=function(c){var b=f(c);b("type",null);b("infoLog",null);return c}(h(r));(function(c){c=f(c);c("_util_base_",r);c("_program_util_",ta);c("_variable_util_",Ua);c("_gl_error_",ua);c("_gl_error_details_",va)})(O);(function(c,b){ec(c,new ba);c.prototype=b})(O,function(c){var b=f(c);b("gl",null);b("createProgram",null);b("createProgramUtil",null);b("createShader",null);b("createShaderUtil",
null);b("getParameter",null);b("getProgramParameter",null);b("getProgramInfoLog",null);b("getShaderParameter",null);b("getShaderInfoLog",null);b("_program_util_",ta);b("_shader_util_",Va);b("_fragment_shader_util_",null);b("_vertex_shader_util_",null);b("_variable_util_",null);b("_buffer_util_",Wa);b("_gl_error_",ua);b("_gl_error_details_",va);b("_program_linking_error_",null);b("_program_linking_error_details_",null);b("_shader_compiling_error_",null);b("_shader_compiling_error_details_",null);b(n,
null);b(Xa,null);b(E);return c}(h(u)));F.v=M.i=O;O.toString=G;O.a=["constructor GLUtil(WebGLRenderingContext gl);"];var ha=null;p.prototype=dc;p.toString=G;p.a=["constructor Initor::FunctionCollection();"];p[U]=p.b=ha=new p;x(p);var Y=new ba;A.toString=G;A.a=["constructor Initor::ReleaseClasses(Object object);"];M.h=M[cc]=u;var ia=null;l.prototype=x(M);l.toString=G;l.a=["constructor Initor::ClassCollection();"];l[U]=l.b=ia=x(new l);x(l);var K=null;H[Yb]=t;t.toString=G;t.a=["constructor Initor();"];
t.prototype=h(u);t[U]=t.b=K=x(new t);x(t)})(window,Object,Function,Symbol,Map,Set,Array,WebGLRenderingContext,WebGLProgram,WebGLShader);