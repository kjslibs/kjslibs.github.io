!function(r,e,t,n,o,a,i,l,u,_){"use strict";function s(r,e){hn(r,new a),r.prototype=e}function c(r,e,t){if(!f(r,e))throw new TypeError(t)}function f(r,e){var t=bn(r);return t&&t.has(e)}function g(r){function e(r,e,t){r.prototype=e,H(t,e)}function t(e){var t=x(e);t("gl",r),t("glUtil",Y),t(_n,r),t(sn,Y)}function n(r,e,t){!function n(r){if(null===r||r===b)return t(r);var o;if(r instanceof i)o=ne;else{if(L(r)!==J)return e(r);o=ee}o(r,function(r){n(r)})}(r)}function o(r,e){var t=e.oncreated;if(t!==b&&null!==t){if("function"==typeof t)return V(t,Y,r);throw console.warn("Value of 'descriptor.oncreated' is invalid: ",t),new TypeError("Property 'oncreated' of parameter 'descriptor' must be either undefined, null, or a function.")}}function u(r,e){var t=e.onerror;if(t===b||null===t)throw r;if("function"==typeof t)return V(t,Y,r);throw console.warn("Property 'onerror' of parameter 'descriptor' should be a function or undefined or null."),r}function _(e){function t(r,e,t,n,o,a){var i=this,l=Je(r),u=Ke(r,e,t,n,o,a),_=x(i);_("attribLocation",r),_("size",e),_("type",t),_("normalized",n),_("stride",o),_("offset",a),_("active",l),_("set",u),_(un,r)}function n(t,n,o){var a,i;switch(n){case"float":i={1:Ze,2:$e,3:et,4:nt,__proto__:null};break;case"int":i={1:at,2:lt,3:_t,4:ct,__proto__:null};break;case"fvec":i={1:gt,2:pt,3:ht,4:vt,__proto__:null};break;case"ivec":i={1:St,2:yt,3:Tt,4:Lt,__proto__:null};break;case"fmat":i={2:kt,3:At,4:Rt,__proto__:null};break;default:throw new RangeError("Parameter 'type' must be either 'float', 'int', 'fvec', 'ivec' or 'fmat'.")}if(a=i[o],"function"!=typeof a)throw new RangeError("Parameter 'length' is invalid: length = "+o);var l=x(this);l("get",ke(r,e,t)),l("set",a(r,t))}function o(r){_(r[un])}function a(r){d(r[un])}function i(r,e,n,o,a,i){return new t(p(r),e,n,o,a,i)}function l(r,e,t){return new n(m(r),e,t)}var u=this,_=Se(r,e),c=new s(u,e),f=t.prototype=function(r){var e=x(r);return e("attribLocation",null),e("size",null),e("type",null),e("normalized",null),e("stride",null),e("offset",null),e("active",null),e("set",null),r}(T(c)),g=n.prototype=function(r){var e=x(r);return e("get",null),e("set",null),C(r,"value",{get:function(){return this.get()},set:function(r){this.set(r)},__proto__:null}),r.valueOf=function(r){return this[r===b?"get":"set"](r)},r}(T(c)),d=ye(r,e),p=Te(r,e),m=Le(r,e),h=Re(r,e),v=Ge(r,e),E=xe(r,e),S=x(u);S("program",e),S("attachShader",_),S("attachShaderUtil",o),S("detachShader",d),S("detachShaderUtil",a),S("getAttribLocation",p),S("createAttribUtil",i),S("getUniformLocation",m),S("createUniformUtil",l),S("getParameter",h),S("getInfoLog",v),S("destroy",E),S("_variable_util_",c),S("_attrib_util_",f),S("_uniform_util_",g),S(un,e),S(cn,h),S(fn,v),S(gn,E)}function s(r,e){var t=x(this);t("program",e),t("programUtil",r),t(_n,e),t(sn,r)}function c(e){function t(r){if(h(),!_(Jt)){var t=new S(e,s(),v());if(M(t,"shaderUtil",p),r===b||null===r)throw t;if("function"==typeof r)return V(r,Y,t);throw console.warn("Parameter 'onerror' should be a function or undefined or null."),t}}function n(r){switch(typeof r){case"string":return E(r);case"object":if(!r)break;var e=r.source;if("string"!=typeof e)throw new TypeError("Property 'source' of parameter 'descriptor' must be a string.");return E(e),void(r.compile&&t(r.onerror))}throw new TypeError("Parameter 'descriptor' must be either a string or an object.")}function o(r){te(r,e)}function a(r){te(r[un],e)}function i(r){oe(r,e)}function l(r){oe(r[un],e)}if(e){var u,_=Be(r,e),s=De(r,e),c=Ye(r,e),g=_(qt);switch(g){case Kt:u=f;break;case Xt:u=d;break;default:throw new TypeError("Invalid shader. SHADER_TYPE: "+String(g))}var p=new u,m=x(p),h=ve(r,e),v=pe(r,e),E=he(r,e),w=v;return m("shader",e),C(p,"source",{get:w,set:n,__proto__:null}),m("compile",t),m("getSource",w),m("setSource",n),m("attachProgram",o),m("attachProgramUtil",a),m("detachProgram",i),m("detachProgramUtil",l),m("getParameter",_),m("getInfoLog",s),m("destroy",c),m(un,e),m(cn,_),m(fn,s),m(gn,c),p}}function f(){}function d(){}function p(e,t){var n=this,o=x(n),a=Gt(r,t,e),i=Bt(r,t),l=Dt(r,t),u=xt(r,t),_=ze(r,e);o("buffer",e),o("target",t),C(n,"size",{get:xt(r,t,Zt),__proto__:null}),C(n,"usage",{get:xt(r,t,Qt),__proto__:null}),C(n,"valid",{get:Yt(r,e),__proto__:null}),o("bind",a),o("passData",i),o("passSubData",l),o("getParameter",u),o("destroy",_),o(un,D({0:e,1:t,buffer:e,target:t,__proto__:{toString:function(){return e},valueOf:function(){return t},__proto__:null}})),o(gn,_)}function m(r){M(this,"name",r)}function h(r){M(this,"errorType",r)}function v(r,e){var t=x(this);t("details",new E(r,e)),t("message",e),t("stack",(new Error).stack)}function E(r,e){var t=x(this);t("program",r),t("infoLog",e)}function S(r,e,t){var n=x(this);n("details",new w(r,e,t)),n("message",e),n("stack",(new Error).stack)}function w(r,e,t){var n=x(this);n("shader",r),n("infoLog",e),n("source",t)}function y(r){if(r===b||null===r)return z();if("object"!=typeof r)throw new TypeError("Parameter 'descriptor' must be either an object or null or undefined.")}function P(r){function e(e,n,o,a){var i,l=r[e];if(l!==b&&null!==l){switch(typeof l){case"string":i=N({type:n,source:l,compile:!0,__proto__:null});break;case"object":switch(L(l)){case Z:if(i=l,me(l,qt)!==n)throw console.warn(i," has invalid shader type: ",n),new TypeError("Invalid shader type: "+n);break;case o:console.warn(l," is invalid."),i=l[un];break;case a:throw new TypeError("Invalid shader type.");default:i=N({type:n,compile:!0,__proto__:l})}break;default:throw new TypeError("Property '"+e+"' of parameter must be either null, undefined, a string, a WebGLShader, a ShaderUtil, or a descriptor<WebGLShader>")}te(t,i)}}if(r instanceof i||r instanceof a)return U({shader:r,use:r.use,link:r.link,onerror:r.onerror,__proto__:null});var t=z();e("vertexShader",Xt,Ee,we),e("fragmentShader",Kt,we,Ee);var n=r.use;return(r.link||n)&&(K(t),fe(t,Wt)?n&&Q(t):u(new v(t,de(t)),r)),o(t,r),t}function U(r){return y(r)||P(r)}function k(r){return new _(y(r)||(L(r)===X?r:P(r)))}function I(r){if("object"!=typeof r||!r)throw new TypeError("Parameter 'descriptor' must be an object")}function N(r){var e=W(r.type);if(!e)throw new TypeError("Creating shader failed because given 'descriptor.type' has wrong value.");var t=r.source,a=r.compile;return t&&($(e,t),a&&(re(e),me(e,Jt)||u(new S(e,be(e),t),r))),n(r.program,function(r){te(L(r)===X?r:U(r),e)},A),o(e,r),e}function R(r){return I(r),N(r)}function O(r){return I(r),new c(L(r)===Z?r:N(r))}function G(r,e){if("object"!=typeof e||!e)throw new TypeError("Parameter 'descriptor' must be an object.");var t=e.bind,n=e.target,o=e.data;if(o===b&&(o=e.size),t&&ie(n,r),o){var a=e.usage;ue(o,a)}return n}function B(r){var e=q();return G(e,r),e}function j(r){var e=q(),t=G(e,r);if(t!=$t&&t!=rn)throw new TypeError("Property 'target' of parameter 'descriptor' must be either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER");return new p(e,t)}if(!F(this))return new g(r);if(!(r instanceof l))throw new TypeError("Parameter 'gl' must be a WebGLRenderingContext.");var Y=this,H=x(Y),z=ae(r),W=le(r),q=_e(r),K=ce(r),Q=ge(r),$=he(r),re=ve(r),te=Se(r),oe=ye(r),ie=Gt(r),ue=Bt(r),se=Ae(r),fe=Re(r),de=Ge(r),me=Be(r),be=De(r);!function(r){e(_,r,"_program_util_"),t(r)}(T(Sn)),function(r){e(s,r,"_variable_util_"),t(r)}(T(Pn)),function(r){e(c,r,"_shader_util_"),t(r)}(T(wn));var Ee=function(r){return e(f,r,"_fragment_shader_util_"),r}(new c(null)),we=function(r){return e(d,r,"_vertex_shader_util_"),r}(new c(null));!function(r){e(p,r,"_buffer_util_"),t(r)}(T(yn)),function(r){e(m,r,"_gl_error_"),t(r)}(T(Tn)),function(r){e(h,r,"_gl_error_details_"),t(r)}(T(Cn)),function(r){e(v,r,"_program_linking_error_")}(new m("ProgramLinkingError")),function(r){e(E,r,"_program_linking_error_details_"),t(r);var n=x(r);n("program",null),n("infoLog",null)}(new h("ProgramLinkingError")),function(r){e(S,r,"_shader_compiling_error_")}(new m("ShaderCompilingError")),function(r){e(w,r,"_shader_compiling_error_details_"),t(r);var n=x(r);n("shader",null),n("infoLog",null),n("source",null)}(new h("ShaderCompilingError")),H("gl",r),H("createProgram",U),H("createProgramUtil",k),H("createShader",R),H("createShaderUtil",O),H("createBuffer",B),H("createBufferUtil",j),H("getParameter",se),H("getProgramParameter",fe),H("getProgramInfoLog",de),H("getShaderParameter",me),H("getShaderInfoLog",be),H(un,r),H(en,k),H(cn,se)}function d(){return Ln||this}function p(r){if(!F(r))throw new TypeError("arguments[0] must be extensible.");return Un.has(r)?this:(Un.add(r),Y(r,Ht),H(Ht),z(Ht),M(r,"_kGraph_primitivePrototype",k),this)}function m(){return kn||this}function h(){if(In)return In;var r=x(this);return r("FunctionCollection",d),r(tn,d),p(this),r("ReleaseClasses",p),r(nn,p),r("ClassCollection",m),r(on,m),In=this}var b,v=r.document.currentScript,E=r[v.getAttributeNS(null,"kjslib-keyword")||"_kJs_Initor"];if(!E)throw new Error("-k-js-abstract.js is required.");var S=v.getAttributeNS(null,"kgraphlib-keyword")||"_kGraph_Initor",w=new E,y=w.SymbolCollection(),P=w.FunctionCollection(),T=e.create,C=e.defineProperty,L=e.getPrototypeOf,U=w.ClassCollection(),k=T(U._primitive_prototype),I=T(k);w.ReleaseMethods(k),w.ReleaseMethods(I);var A=t.prototype,N=A.call,R=A.bind,O=R.bind(N),G=R.bind(R),V=N.bind(N),B=P.shared_toString,F=P.is_extensible_object,D=(P.is_valid_handler,e.freeze),j=I._kJs_setConst,x=R.bind(j),M=P.__setConst,Y=P.__addSetConsts,H=P.__executePropertyMappers,z=P.__clearAllPropertyMappers,W=o.prototype,J=a.prototype,q=i.prototype,K=l.prototype,X=u.prototype,Z=_.prototype,Q=W.get,$=W.set,re=(J.add,J["delete"],J.has,J.forEach),ee=O(re),te=q.forEach,ne=O(te),oe=K.createProgram,ae=G(oe),ie=K.createShader,le=G(ie),ue=K.createBuffer,_e=G(ue),se=K.linkProgram,ce=G(se),fe=K.useProgram,ge=G(fe),de=K.getShaderSource,pe=G(de),me=K.shaderSource,he=G(me),be=K.compileShader,ve=G(be),Ee=K.attachShader,Se=G(Ee),we=K.detachShader,ye=G(we),Pe=K.getAttribLocation,Te=G(Pe),Ce=K.getUniformLocation,Le=G(Ce),Ue=K.getUniform,ke=G(Ue),Ie=K.getParameter,Ae=G(Ie),Ne=K.getProgramParameter,Re=G(Ne),Oe=K.getProgramInfoLog,Ge=G(Oe),Ve=K.getShaderParameter,Be=G(Ve),Fe=K.getShaderInfoLog,De=G(Fe),je=K.deleteProgram,xe=G(je),Me=K.deleteShader,Ye=G(Me),He=K.deleteBuffer,ze=G(He),We=K.enableVertexAttribArray,Je=G(We),qe=K.vertexAttribPointer,Ke=G(qe),Xe=K.uniform1f,Ze=G(Xe),Qe=K.uniform2f,$e=G(Qe),rt=K.uniform3f,et=G(rt),tt=K.uniform4f,nt=G(tt),ot=K.uniform1i,at=G(ot),it=K.uniform2i,lt=G(it),ut=K.uniform3i,_t=G(ut),st=K.uniform4i,ct=G(st),ft=K.uniform1fv,gt=G(ft),dt=K.uniform2fv,pt=G(dt),mt=K.uniform3fv,ht=G(mt),bt=K.uniform4fv,vt=G(bt),Et=K.uniform1iv,St=G(Et),wt=K.uniform2iv,yt=G(wt),Pt=K.uniform3iv,Tt=G(Pt),Ct=K.uniform4iv,Lt=G(Ct),Ut=K.uniformMatrix2fv,kt=G(Ut),It=K.uniformMatrix3fv,At=G(It),Nt=K.uniformMatrix4fv,Rt=G(Nt),Ot=K.bindBuffer,Gt=G(Ot),Vt=K.bufferData,Bt=G(Vt),Ft=K.bufferSubData,Dt=G(Ft),jt=K.getBufferParameter,xt=G(jt),Mt=K.isBuffer,Yt=G(Mt),Ht=(I._kJs_addSetConsts,I._kJs_executePropertyMappers,I._kJs_clearAllPropertyMappers,T(null),T(null)),zt=T(k),Wt=K.LINK_STATUS,Jt=K.COMPILE_STATUS,qt=K.SHADER_TYPE,Kt=K.FRAGMENT_SHADER,Xt=K.VERTEX_SHADER,Zt=K.BUFFER_SIZE,Qt=K.BUFFER_USAGE,$t=K.ARRAY_BUFFER,rn=K.ELEMENT_ARRAY_BUFFER,en=(K.BOOL,K.BYTE,K.SHORT,K.INT,K.UNSIGNED_BYTE,K.UNSIGNED_SHORT,K.UNSIGNED_INT,K.FLOAT,K.BOOL_VEC2,K.BYTE_VEC2,K.SHORT_VEC2,K.INT_VEC2,K.UNSIGNED_BYTE_VEC2,K.UNSIGNED_SHORT_VEC2,K.UNSIGNED_INT_VEC2,K.FLOAT_VEC2,K.BOOL_VEC3,K.BYTE_VEC3,K.SHORT_VEC3,K.INT_VEC3,K.UNSIGNED_BYTE_VEC3,K.UNSIGNED_SHORT_VEC3,K.UNSIGNED_INT_VEC3,K.FLOAT_VEC3,K.BOOL_VEC4,K.BYTE_VEC4,K.SHORT_VEC4,K.INT_VEC4,K.UNSIGNED_BYTE_VEC4,K.UNSIGNED_SHORT_VEC4,K.UNSIGNED_INT_VEC4,K.FLOAT_VEC4,K.FLOAT_MAT2,K.FLOAT_MAT3,K.FLOAT_MAT4,y.create),tn=(y.SymbolCollection,y.FunctionCollection),nn=y.ReleaseClasses,on=y.ClassCollection,an=y.createdInstance,ln=y.primitivePrototype,un=n("Based object"),_n=n("Context's based object"),sn=n("Context"),cn=n("Get parameter"),fn=n("Get info log"),gn=n("WebGLObject destructor"),dn=(D({basedObject:un,parentBasedObject:_n,parentObject:sn,getParameter:cn,getInfoLog:fn,destruct:gn,__proto__:null}),D({_prvEnsureConstructor:c,_prvCheckConstructorInstance:f,__proto__:null})),pn=new o,mn=new o,hn=$.bind(pn),bn=Q.bind(pn),vn=($.bind(mn),Q.bind(mn),P._DescriptorGetterSetter1os3b,P._setconst1oVs1v,P._setmtdfromcore2o1s,P._setmtdfromcore2os,P._setkeytokey1o2s3b,P._setkeytokey1o2s3b_inheritable,P._defgettersetter1o2s,function(r){var e=x(r);return e("gl",null),e("glUtil",null),e(_n,null),e(sn,null),r}(T(k))),En={get:function(){return this[fn]()},__proto__:null},Sn=function(r){var e=x(r);return e("program",null),C(r,"infoLog",En),e("createShader",null),e("createShaderUtil",null),e("getAttribLocation",null),e("createAttribUtil",null),e("getUniformLocation",null),e("createUniformUtil",null),e("getParameter",null),e("getInfoLog",null),e("destroy",null),e(un,null),e(cn,null),e(fn,null),e(gn,null),r}(T(vn)),wn=function(r){var e=x(r);return e("shader",null),e("source",null),C(r,"infoLog",En),C(r,"attachedShaders",{get:function(){return this[_n].getAttachedShaders(this[un])},__proto__:null}),e("getSource",null),e("setSource",null),e("compile",null),e("attachProgram",null),e("attachProgramUtil",null),e("detachProgram",null),e("detachProgramUtil",null),e("getParameter",null),e("getInfoLog",null),e("destroy",null),r.valueOf=function(r){return this[r===b?"getSource":"setSource"](r)},e(un,null),e(cn,null),e(fn,null),e(gn,null),r}(T(vn)),yn=function(r){var e=x(r);return e("buffer",null),e("target",null),e("size",null),e("usage",null),e("valid",!1),e("passData",null),e("passSubData",null),e("getParameter",null),e(cn,null),r}(T(vn)),Pn=function(r){var e=x(r);return e("program",null),e("programUtil",null),r}(T(vn)),Tn=function(r){function e(){return this.name+":\n"+this.message}var t=x(r);return t("name",null),t("message",null),t("details",null),t("stack",null),t("toString",e),C(r,"string",{get:e,__proto__:null}),r}(T(vn)),Cn=function(r){var e=x(r);return e("type",null),e("infoLog",null),r}(T(vn));!function(r){var e=x(r);e("_util_base_",vn),e("_program_util_",Sn),e("_variable_util_",Pn),e("_gl_error_",Tn),e("_gl_error_details_",Cn)}(g),s(g,function(r){var e=x(r);return e("gl",null),e("createProgram",null),e("createProgramUtil",null),e("createShader",null),e("createShaderUtil",null),e("getParameter",null),e("getProgramParameter",null),e("getProgramInfoLog",null),e("getShaderParameter",null),e("getShaderInfoLog",null),e("_program_util_",Sn),e("_shader_util_",wn),e("_fragment_shader_util_",null),e("_vertex_shader_util_",null),e("_variable_util_",null),e("_buffer_util_",yn),e("_gl_error_",Tn),e("_gl_error_details_",Cn),e("_program_linking_error_",null),e("_program_linking_error_details_",null),e("_shader_compiling_error_",null),e("_shader_compiling_error_details_",null),e(un,null),e(en,null),e(cn),r}(T(k))),Ht._kGraph_GLUtil=zt.GLUtil=g,g.toString=B,g.user_manuals=["constructor GLUtil(WebGLRenderingContext gl);"];var Ln=null;d.prototype=dn,d.toString=B,d.user_manuals=["constructor Initor::FunctionCollection();"],d[an]=d.created=Ln=new d,D(d);var Un=new a;p.toString=B,p.user_manuals=["constructor Initor::ReleaseClasses(Object object);"],zt._primitive_prototype=zt[ln]=k;var kn=null;m.prototype=D(zt),m.toString=B,m.user_manuals=["constructor Initor::ClassCollection();"],m[an]=m.created=kn=D(new m),D(m);var In=null;r[S]=h,h.toString=B,h.user_manuals=["constructor Initor();"],h.prototype=T(k),h[an]=h.created=In=D(new h),D(h)}(window,Object,Function,Symbol,Map,Set,Array,WebGLRenderingContext,WebGLProgram,WebGLShader);