(function(G,H,Ya,v,M,ba,oa,wa,Za,$a){function U(c,b){var d=ab(c);return d&&d.has(b)}function N(c){function b(a,c,b){a.prototype=c;k(b,c)}function d(a){a=g(a);a("gl",c);a("glUtil",O);a(W,c);a(da,O)}function e(a,c,b){(function I(a){if(null===a||a===y)return b(a);var d;if(a instanceof oa)d=bb;else if(X(a)===xa)d=cb;else return c(a);d(a,function(a){I(a)})})(a)}function m(a,c){var b=c.I;if(b!==y&&null!==b)if("function"===typeof b)pa(b,O,a);else throw console.warn("Value of 'descriptor.oncreated' is invalid: ",
b),new TypeError("Property 'oncreated' of parameter 'descriptor' must be either undefined, null, or a function.");}function n(a,b){var c=b.onerror;if(c===y||null===c)throw a;if("function"===typeof c)pa(c,O,a);else throw console.warn("Property 'onerror' of parameter 'descriptor' should be a function or undefined or null."),a;}function q(a){function b(a,c,d,r,e,ca){var I=db(a),h=eb(a,c,d,r,e,ca),f=g(this);f("attribLocation",a);f("size",c);f("type",d);f("normalized",r);f("stride",e);f("offset",ca);f("active",
I);f("set",h);f(p,a)}function d(b,r,e){switch(r){case "float":r={1:fb,2:gb,3:hb,4:ib,__proto__:null};break;case "int":r={1:jb,2:kb,3:lb,4:mb,__proto__:null};break;case "fvec":r={1:nb,2:ob,3:pb,4:qb,__proto__:null};break;case "ivec":r={1:rb,2:sb,3:tb,4:ub,__proto__:null};break;case "fmat":r={2:vb,3:wb,4:xb,__proto__:null};break;default:throw new RangeError("Parameter 'type' must be either 'float', 'int', 'fvec', 'ivec' or 'fmat'.");}r=r[e];if("function"!==typeof r)throw new RangeError("Parameter 'length' is invalid: length = "+
e);e=g(this);e("get",yb(c,a,b));e("set",r(c,b));e("uniformLocation",b);e(p,b)}var e=ya(c,a),I=new u(this,a),k=b.prototype=function(a){var b=g(a);b("attribLocation",null);b("size",null);b("type",null);b("normalized",null);b("stride",null);b("offset",null);b("active",null);b("set",null);b(p,null);return a}(f(I)),m=d.prototype=function(a){var b=g(a);b("get",null);b("set",null);b("uniformLocation",null);b(p,null);z(a,"value",{get:function(){return this.get()},set:function(a){this.set(a)},__proto__:null});
a.valueOf=function(a){return this[a===y?"get":"set"](a)};return a}(f(I)),n=za(c,a),P=zb(c,a),t=Ab(c,a),h=Aa(c,a),V=Ba(c,a),v=Bb(c,a),l=g(this);l("program",a);l("attachShader",e);l("attachShaderUtil",function(a){e(a[p])});l("detachShader",n);l("detachShaderUtil",function(a){n(a[p])});l("getAttribLocation",P);l("createAttribUtil",function(a,c,d,e,ca,f){return new b(P(a),c,d,e,ca,f)});l("getUniformLocation",t);l("createUniformUtil",function(a,b,c){return new d(t(a),b,c)});l("getParameter",h);l("getInfoLog",
V);l("destroy",v);l("_variable_util_",I);l("_attrib_util_",k);l("_uniform_util_",m);l(p,a);l(D,h);l(Q,V);l(R,v)}function u(a,b){var c=g(this);c("program",b);c("programUtil",a);c(W,b);c(da,a)}function t(a){function b(c){u();if(!m(Ca)){var d=new E(a,P(),l());ea(d,"shaderUtil",q);if(c===y||null===c)throw d;if("function"===typeof c)return pa(c,O,d);console.warn("Parameter 'onerror' should be a function or undefined or null.");throw d;}}function d(a){switch(typeof a){case "string":return w(a);case "object":if(!a)break;
var c=a.source;if("string"!==typeof c)throw new TypeError("Property 'source' of parameter 'descriptor' must be a string.");w(c);a.compile&&b(a.onerror);return}throw new TypeError("Parameter 'descriptor' must be either a string or an object.");}function e(b){fa(b,a)}function f(b){fa(b[p],a)}function k(b){Z(b,a)}function n(b){Z(b[p],a)}if(a){var m=Da(c,a),P=Ea(c,a),V=Cb(c,a),h=m(Fa);switch(h){case Ga:h=v;break;case Ha:h=B;break;default:throw new TypeError("Invalid shader. SHADER_TYPE: "+String(h));
}var q=new h,h=g(q),u=Ia(c,a),l=Db(c,a),w=Ja(c,a),x=l;h("shader",a);z(q,"source",{get:x,set:d,__proto__:null});h("compile",b);h("getSource",x);h("setSource",d);h("attachProgram",e);h("attachProgramUtil",f);h("detachProgram",k);h("detachProgramUtil",n);h("getParameter",m);h("getInfoLog",P);h("destroy",V);h(p,a);h(D,m);h(Q,P);h(R,V);return q}}function v(){}function B(){}function C(a,b){var d=g(this),e=Ka(c,b,a),f=La(c,b),k=Eb(c,b),m=qa(c,b),n=Fb(c,a);d("buffer",a);d("target",b);z(this,"size",{get:qa(c,
b,Gb),__proto__:null});z(this,"usage",{get:qa(c,b,Hb),__proto__:null});z(this,"valid",{get:Ib(c,a),__proto__:null});d("bind",e);d("passData",f);d("passSubData",k);d("getParameter",m);d("destroy",n);d(p,w({0:a,1:b,buffer:a,target:b,__proto__:{toString:function(){return a},valueOf:function(){return b},__proto__:null}}));d(R,n)}function x(a){ea(this,"name",a)}function A(a){ea(this,"errorType",a)}function F(a,b){var c=g(this);c("details",new H(a,b));c("message",b);c("stack",Error().stack)}function H(a,
b){var c=g(this);c("program",a);c("infoLog",b)}function E(a,b,c){var d=g(this);d("details",new J(a,b,c));d("message",b);d("stack",Error().stack)}function J(a,b,c){var d=g(this);d("shader",a);d("infoLog",b);d("source",c)}function K(a){if(a===y||null===a)return U();if("object"!==typeof a)throw new TypeError("Parameter 'descriptor' must be either an object or null or undefined.");}function L(a){function b(d,e,f,r){var g=a[d];if(g!==y&&null!==g){switch(typeof g){case "string":d=ga({type:e,source:g,compile:!0,
__proto__:null});break;case "object":switch(X(g)){case Ma:d=g;if(ra(g,Fa)!==e)throw console.warn(d," has invalid shader type: ",e),new TypeError("Invalid shader type: "+e);break;case f:console.warn(g," is invalid.");d=g[p];break;case r:throw new TypeError("Invalid shader type.");default:d=ga({type:e,compile:!0,__proto__:g})}break;default:throw new TypeError("Property '"+d+"' of parameter must be either null, undefined, a string, a WebGLShader, a ShaderUtil, or a descriptor<WebGLShader>");}fa(c,d)}}
if(a instanceof oa||a instanceof ba)return G({N:a,use:a.use,link:a.link,onerror:a.onerror,__proto__:null});var c=U();b("vertexShader",Ha,Na,Oa);b("fragmentShader",Ga,Oa,Na);var d=a.use;if(a.link||d)ia(c),Pa(c,Jb)?d&&ja(c):n(new F(c,Qa(c)),a);m(c,a);return c}function G(a){return K(a)||L(a)}function M(a){return new q(K(a)||(X(a)===Ra?a:L(a)))}function S(a){if("object"!==typeof a||!a)throw new TypeError("Parameter 'descriptor' must be an object");}function ga(a){var b=ha(a.type);if(!b)throw new TypeError("Creating shader failed because given 'descriptor.type' has wrong value.");
var c=a.source,d=a.compile;c&&(ka(b,c),d&&(la(b),ra(b,Ca)||n(new E(b,Sa(b),c),a)));e(a.M,function(a){fa(X(a)===Ra?a:G(a),b)},sa);m(b,a);return b}function T(a,b){if("object"!==typeof b||!b)throw new TypeError("Parameter 'descriptor' must be an object.");var c=b.bind,d=b.target,e=b.data;e===y&&(e=b.size);c&&ma(d,a);e&&na(e,b.usage);return d}if(!Ta(this))return new N(c);if(!(c instanceof wa))throw new TypeError("Parameter 'gl' must be a WebGLRenderingContext.");var O=this,k=g(O),U=Kb(c),ha=Lb(c),Y=Mb(c),
ia=Nb(c),ja=Ob(c),ka=Ja(c),la=Ia(c),fa=ya(c),Z=za(c),ma=Ka(c),na=La(c),aa=Pb(c),Pa=Aa(c),Qa=Ba(c),ra=Da(c),Sa=Ea(c);(function(a){b(q,a,"_program_util_");d(a)})(f(ta));(function(a){b(u,a,"_variable_util_");d(a)})(f(Ua));(function(a){b(t,a,"_shader_util_");d(a)})(f(Va));var Na=function(a){b(v,a,"_fragment_shader_util_");return a}(new t(null)),Oa=function(a){b(B,a,"_vertex_shader_util_");return a}(new t(null));(function(a){b(C,a,"_buffer_util_");d(a)})(f(Wa));(function(a){b(x,a,"_gl_error_");d(a)})(f(ua));
(function(a){b(A,a,"_gl_error_details_");d(a)})(f(va));(function(a){b(F,a,"_program_linking_error_")})(new x("ProgramLinkingError"));(function(a){b(H,a,"_program_linking_error_details_");d(a);a=g(a);a("program",null);a("infoLog",null)})(new A("ProgramLinkingError"));(function(a){b(E,a,"_shader_compiling_error_")})(new x("ShaderCompilingError"));(function(a){b(J,a,"_shader_compiling_error_details_");d(a);a=g(a);a("shader",null);a("infoLog",null);a("source",null)})(new A("ShaderCompilingError"));k("gl",
c);k("createProgram",G);k("createProgramUtil",M);k("createShader",function(a){S(a);return ga(a)});k("createShaderUtil",function(a){S(a);return new t(X(a)===Ma?a:ga(a))});k("createBuffer",function(a){var b=Y();T(b,a);return b});k("createBufferUtil",function(a){var b=Y();a=T(b,a);if(a!=Qb&&a!=Rb)throw new TypeError("Property 'target' of parameter 'descriptor' must be either ARRAY_BUFFER or ELEMENT_ARRAY_BUFFER");return new C(b,a)});k("getParameter",aa);k("getProgramParameter",Pa);k("getProgramInfoLog",
Qa);k("getShaderParameter",ra);k("getShaderInfoLog",Sa);k(p,c);k(Xa,M);k(D,aa)}function m(){return ha||this}function x(c){if(!Ta(c))throw new TypeError("arguments[0] must be extensible.");if(Y.has(c))return this;Y.add(c);Sb(c,E);Tb(E);Ub(E);ea(c,"_kGraph_primitivePrototype",q);return this}function n(){return ia||this}function u(){if(J)return J;var c=g(this);c("FunctionCollection",m);c(Vb,m);x(this);c("ReleaseClasses",x);c(Wb,x);c("ClassCollection",n);c(Xb,n);return J=this}var y,ja=G.document.currentScript,
ka=G[ja.getAttributeNS(null,"kjslib-keyword")||"_kJs_Initor"];if(!ka)throw Error("-k-js-abstract.js is required.");var Yb=ja.getAttributeNS(null,"kgraphlib-keyword")||"_kGraph_Initor",A=new ka,B=A.l(),C=A.f(),f=H.create,z=H.defineProperty,X=H.getPrototypeOf,Zb=A.c(),q=f(Zb.h),la=f(q);A.g(q);A.g(la);var sa=Ya.prototype,S=sa.call,K=sa.bind,Z=K.bind(S),e=K.bind(K),pa=S.bind(S),F=C.O,Ta=C.H,w=H.freeze,g=K.bind(la.w),ea=C.u,Sb=C.m,Tb=C.s,Ub=C.o,ma=M.prototype,xa=ba.prototype,$b=oa.prototype,d=wa.prototype,
Ra=Za.prototype,Ma=$a.prototype,ac=ma.get,bc=ma.set,cb=Z(xa.forEach),bb=Z($b.forEach),Kb=e(d.createProgram),Lb=e(d.createShader),Mb=e(d.createBuffer),Nb=e(d.linkProgram),Ob=e(d.useProgram),Db=e(d.getShaderSource),Ja=e(d.shaderSource),Ia=e(d.compileShader),ya=e(d.attachShader),za=e(d.detachShader),zb=e(d.getAttribLocation),Ab=e(d.getUniformLocation),yb=e(d.getUniform),Pb=e(d.getParameter),Aa=e(d.getProgramParameter),Ba=e(d.getProgramInfoLog),Da=e(d.getShaderParameter),Ea=e(d.getShaderInfoLog),Bb=e(d.deleteProgram),
Cb=e(d.deleteShader),Fb=e(d.deleteBuffer),db=e(d.enableVertexAttribArray),eb=e(d.vertexAttribPointer),fb=e(d.uniform1f),gb=e(d.uniform2f),hb=e(d.uniform3f),ib=e(d.uniform4f),jb=e(d.uniform1i),kb=e(d.uniform2i),lb=e(d.uniform3i),mb=e(d.uniform4i),nb=e(d.uniform1fv),ob=e(d.uniform2fv),pb=e(d.uniform3fv),qb=e(d.uniform4fv),rb=e(d.uniform1iv),sb=e(d.uniform2iv),tb=e(d.uniform3iv),ub=e(d.uniform4iv),vb=e(d.uniformMatrix2fv),wb=e(d.uniformMatrix3fv),xb=e(d.uniformMatrix4fv),Ka=e(d.bindBuffer),La=e(d.bufferData),
Eb=e(d.bufferSubData),qa=e(d.getBufferParameter),Ib=e(d.isBuffer);f(null);var E=f(null),L=f(q),Jb=d.LINK_STATUS,Ca=d.COMPILE_STATUS,Fa=d.SHADER_TYPE,Ga=d.FRAGMENT_SHADER,Ha=d.VERTEX_SHADER,Gb=d.BUFFER_SIZE,Hb=d.BUFFER_USAGE,Qb=d.ARRAY_BUFFER,Rb=d.ELEMENT_ARRAY_BUFFER,Xa=B.create,Vb=B.f,Wb=B.j,Xb=B.c,T=B.D,cc=B.L,p=v("Based object"),W=v("Context's based object"),da=v("Context"),D=v("Get parameter"),Q=v("Get info log"),R=v("WebGLObject destructor");w({C:p,J:W,K:da,getParameter:D,G:Q,F:R,__proto__:null});
var dc=w({B:function(c,b,d){if(!U(c,b))throw new TypeError(d);},A:U,__proto__:null}),na=new M;new M;var ec=bc.bind(na),ab=ac.bind(na),t=function(c){var b=g(c);b("gl",null);b("glUtil",null);b(W,null);b(da,null);return c}(f(q)),aa={get:function(){return this[Q]()},__proto__:null},ta=function(c){var b=g(c);b("program",null);z(c,"infoLog",aa);b("createShader",null);b("createShaderUtil",null);b("getAttribLocation",null);b("createAttribUtil",null);b("getUniformLocation",null);b("createUniformUtil",null);
b("getParameter",null);b("getInfoLog",null);b("destroy",null);b(p,null);b(D,null);b(Q,null);b(R,null);return c}(f(t)),Va=function(c){var b=g(c);b("shader",null);b("source",null);z(c,"infoLog",aa);z(c,"attachedShaders",{get:function(){return this[W].getAttachedShaders(this[p])},__proto__:null});b("getSource",null);b("setSource",null);b("compile",null);b("attachProgram",null);b("attachProgramUtil",null);b("detachProgram",null);b("detachProgramUtil",null);b("getParameter",null);b("getInfoLog",null);
b("destroy",null);c.valueOf=function(b){return this[b===y?"getSource":"setSource"](b)};b(p,null);b(D,null);b(Q,null);b(R,null);return c}(f(t)),Wa=function(c){var b=g(c);b("buffer",null);b("target",null);b("size",null);b("usage",null);b("valid",!1);b("passData",null);b("passSubData",null);b("getParameter",null);b(D,null);return c}(f(t)),Ua=function(c){var b=g(c);b("program",null);b("programUtil",null);return c}(f(t)),ua=function(c){function b(){return this.name+":\n"+this.message}var d=g(c);d("name",
null);d("message",null);d("details",null);d("stack",null);d("toString",b);z(c,"string",{get:b,__proto__:null});return c}(f(t)),va=function(c){var b=g(c);b("type",null);b("infoLog",null);return c}(f(t));(function(c){c=g(c);c("_util_base_",t);c("_program_util_",ta);c("_variable_util_",Ua);c("_gl_error_",ua);c("_gl_error_details_",va)})(N);(function(c,b){ec(c,new ba);c.prototype=b})(N,function(c){var b=g(c);b("gl",null);b("createProgram",null);b("createProgramUtil",null);b("createShader",null);b("createShaderUtil",
null);b("getParameter",null);b("getProgramParameter",null);b("getProgramInfoLog",null);b("getShaderParameter",null);b("getShaderInfoLog",null);b("_program_util_",ta);b("_shader_util_",Va);b("_fragment_shader_util_",null);b("_vertex_shader_util_",null);b("_variable_util_",null);b("_buffer_util_",Wa);b("_gl_error_",ua);b("_gl_error_details_",va);b("_program_linking_error_",null);b("_program_linking_error_details_",null);b("_shader_compiling_error_",null);b("_shader_compiling_error_details_",null);b(p,
null);b(Xa,null);b(D);return c}(f(q)));E.v=L.i=N;N.toString=F;N.a=["constructor GLUtil(WebGLRenderingContext gl);"];var ha=null;m.prototype=dc;m.toString=F;m.a=["constructor Initor::FunctionCollection();"];m[T]=m.b=ha=new m;w(m);var Y=new ba;x.toString=F;x.a=["constructor Initor::ReleaseClasses(Object object);"];L.h=L[cc]=q;var ia=null;n.prototype=w(L);n.toString=F;n.a=["constructor Initor::ClassCollection();"];n[T]=n.b=ia=w(new n);w(n);var J=null;G[Yb]=u;u.toString=F;u.a=["constructor Initor();"];
u.prototype=f(q);u[T]=u.b=J=w(new u);w(u)})(window,Object,Function,Symbol,Map,Set,Array,WebGLRenderingContext,WebGLProgram,WebGLShader);